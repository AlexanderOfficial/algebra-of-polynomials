## Команда:
- Крайнев Александр
- Швандырева Алина

# Лабораторная работа 1: Алгебра полиномов

## Цели и задачи


В рамках лабораторной работы ставится задача создания программных средств, поддерживающих реализацию шести видов таблиц, предназначенных для эффектривного хранения полинома, его имени и ссылки на объект соответсвующего класса:
- неупорядоченные таблицы:
  - Линейная таблица на массиве;
  - Линейная таблица на списке;
- упорядоенные таблицы:
  - Таблица на поисковом дереве (АВЛ или красно-черном);
  - Таблица на массиве;
- хеш-таблицы:
  - Хеш-таблица с открытым перемешиванием;
  - Хеш-таблица со списками (метод цепочек).
 
В рамках лабораторной работы также реализовать выполнение следующих операций над полиномами:
- ввод полинома и его имени;
- организация хранения полинома;
- удаление введенного ранее полинома;
- сложение;
- вычитание;
- умножение;
- деление;
- нахождение производной при заданной переменной дифференцирования;
- нахождение неопределенного интеграла;
- вычисление значения полинома при заданных значениях переменных;
- вывод полиномов и результата операций;
- возможность получения выражения из полиномов.

В каждой таблице должна быть возможность удаления, добавления и поиска полинома по имени. Удаление и добавление полинома должно происходить сразу во всех таблицах, поиск же должен осуществляться только в активной таблице. Данные операции над таблицами реализовать, как виртуальные методы.

В процессе выполнения лабораторной работы требуется использовать систему контроля версий [Git][git] и фрэймворк для разработки автоматических тестов [Google Test][gtest].

## Условия и ограничения

При выполнении лабораторной работы нужно учитывать следующие основные условия:
- разработака структуры хранения должна быть реализована в виде различных таблиц и ориентирована на представление полиномов от трех переменнных; 
- степени переменных полиномов не могут превышать значение 9;
- в структуре хранения должны находиться мономы только с ненулевыми коэффициентами;
- для организации быстрого доступа использовать упорядоченное хранение мономов (лексикографический порядок);
- имя полинома должно быть уникально.

## Используемые инструменты

  - Система контроля версий [Git][git].
  - Фреймворк для написания автоматических тестов [Google Test][gtest].
  - Среда разработки Microsoft Visual Studio 2019.

## Общая структура проекта

Структура проекта:

  - `gtest` — библиотека Google Test.
  - `base` — директория для размещения заголовочных файлов и тестового приложения.
  - `base_test` — директория с модульными тестами и основным приложением, инициализирующим запуск тестов.
  - `README.md` — информация о проекте, которую вы сейчас читаете.
  - Служебные файлы:
    - `.gitignore` — перечень расширений файлов, игнорируемых Git при добавлении файлов в репозиторий.

## Список объектов
 
 Для реализации программы будут использованы такие основные объекты, как:
  - список;
  - моном;
  - полином;
  - таблицы:
    - линейная на массиве;
    - линейная на списке;
    - упорядоченная на массиве;
    - на поисковом дереве (АВЛ или красно-черном);
    - хеш таблица с открытым перемешиванием;
    - хеш таблица со списками (метод цепочек).

## Список основных алгоритмов

Для работы с полиномами будут необходимы такие алгоритмы, как:
    - сложение;
    - вычитание;
    - умножение;
    - дифференцирование;
    - интегрирование;
    - вычисление в точке.

Для работы с таблицами понадобятся алгоритмы:
    - вставки;
    - удаления;
    - поиска;
    - сортировки (для упорядоченных);
    - записи и чтения из файл.

## Описание моделей объектов

**Список** - шаблонный класс реализующий работу с двунаправленным линейным списком. Класс содержит структуру, в которую входят данные, указатель на следующий и на предыдущий узлы.
Операции над списками:
  - вставка;
  - удаление;
  - поиск;
  - переход на следующий/предыдущий узел;
  - переход в начало/конец списка.

**Моном** - произведение, состоящее из коэффициента и 3 переменных.
Поддерживаемые операции над мономами:
  - сложение;
  - вычитание;
  - умножение;
  - дифференцирование;
  - интегрирование;
  - сравнение.

**Полином** - сумма различных мономов, хранящихся в списке.
Операции над полиномами:
  - сложение;
  - вычитание;
  - умножение;
  - дифференцирование;
  - интегрирование.

**Таблица** - динамическая структура данных, которая в каждый момент выполнения вычислений состоит из конечного набора элементов (записей). Первое поле всех записей таблицы является ключом. Структура хранения состоит из ключа, строки и указателя на полином, где ключ - это уникальный идентификатор полинома.
- Линейная таблица на массиве - неупорядоченный массив элементов;
- Линейная таблица на списке - неупорядоченный двунаправленный список элементов, каждый элемент которого дополнительно содержит указатель на следующий и на предыдущий элементы;
- Упорядоченная таблица на массиве - упорядоченный массив элементов;
- Таблица на поисковом дереве (АВЛ) - сбалансированное по высоте двоичное дерево поиска, каждый элемент которого дополнительно содержит разницу высот поддеревьев, указатель на 2 следующих элемента (один указатель относится к элементу, который лексиграфичечки меньше этого, другой - к большему) и на 1 предыдущий;
- Хеш таблица с открытым перемешиванием  - массив элементов, в котором позиция для вставки определяется хеш функцией, при возникновении коллизий к вычисленному номеру добавляется смещение;
- Хеш таблица со списками (метод цепочек) - массив элементов, в котором позиция для вставки определяется хеш функцией, при возникновении коллизий формируются линейные списки (цепочки).

## Описание основных алгоритмов

  - Список
    - вставка - передается объект для вставки, затем создается новый узел, в который кладется объект, добавляется указатель на следующий узел и на предыдущий. Так же в узле, предшествующем новому, меняется указатель на следующий элемент;
    - удаление - удаляется звено, и в предыдущем и следующем узле меняется указатель на следующий и на предыдущий узел соответственно;
    - поиск - проходим по всему списку и сравниваем искомый объект с объектами в каждом узле;
    - переход на следующий/предыдущий узел - значение текущего узла меняется на следующий/предыдущий узел;
    - переход в начало/конец списка - аналогично предыдущему;

  - Моном 
    - сложение, вычитание - производится только с подобными мономами путем сложения/вычитания коэффициентов;
    - умножение - коэффициенты перемножаются, а степени соответствующих переменных складываются;
    - дифференцирование - берётся частная производная по какой-то из переменных, остальные переменные фиксируются;
    - интегрирование - берётся частный интеграл по какой-то из переменных, остальные переменные фиксируются;
    - сравнение - сначала происходит сравнение степеней переменных, при равенстве степеней происходит сравнение коэффициентов;
 
  - Полином
    - сложение, вычитание - каждый моном 2го полинома прибаляется к 1му полиному, если этот моном не содержится в 1ом полиноме, 
	иначе складываются коэффициенты этих мономов(при вычитании коэффициенты мономов 2го полинома инвертируются);
	- умножение - декартово произведение мономов 1го полинома на мономы 2го полинома;
	- дифференцирование - проходим по всем мономам, для каждого монома берется производная;
	- интегрирование - проходим по всем мономам, для каждого монома берется интеграл;
	- вычисление в точке - переменным присваиваются значения, и вычисляется полученное выражение;

  - Таблицы
    - Линейная на массиве
	    - вставка - в качестве аргумента передается запись, производится поиск вставляемой записи в массиве, в случае нахождения неудаленной записи бросается ошибка, иначе в конец массива добавляется новая запись (в случае нахождения удаленной записи состояние меняется на "не удален"), при отсутствии места массив переписывается с удвоением размера;
	    - удаление - производится поиск удаляемой записи в таблице, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
	    - поиск - в качестве аргумента передается ключ, проходим по всему массиву, сравниваем ключ, в случае нахождения неудаленного возвращается true и меняем текущую позицию, иначе возвращается false и текущую позицию устанавливаем на -1;
	    - запись в файл - каждый неудаленный полином записывается в файл с новой строки;
	    - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в массив;
	  
    - Линейная на списке
	    - вставка - в качестве аргумента передается запись, производится поиск вставляемой записи в таблице, в случае нахождения неудаленной записи бросается ошибка, иначе в конец списка добавляется новый элемент (в случае нахождения удаленной записи состояние меняется на "не удален");
	    - удаление - производится поиск удаляемой записи в списке, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
	    - поиск - в качестве аргумента передается ключ, проходим по всему списку, сравниваем ключ, в случае нахождения неудаленного возвращается true и меняем текущую позицию, иначе возвращается false и текущую позицию устанавливаем на -1;
	    - запись в файл - каждый неудаленный полином записывается в файл с новой строки;
	    - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в список;
	  
    - Упорядоченная на массива
	    - вставка - в качестве аргумента передается запись, производится поиск вставляемой записи в таблице, в случае нахождения неудаленной записи бросается ошибка, иначе ищем позицию для вставки и вставляем запись, смещая записи, начиная с той позиции, куда будем вставлять новую запись (в случае нахождения удаленной записи состояние меняется на "не удален"), при отсутствии места массив переписывается с удвоением размера;
	    - удаление - производится поиск удаляемой записи в массиве, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
	    - поиск - в качестве аргумента передается ключ, производится бинарный поиск, в случае нахождения неудаленного возвращается true и меняем текущую позицию, иначе возвращается false и текущую позицию устанавливаем на -1;
	    - запись в файл - каждый неудаленный полином записывается в файл с новой строки;
	    - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в список;
	    - сортировка - быстрая сортировка по ключу полинома;
		
    - Дерево(АВЛ)
	    - вставка - в качестве аргумента передается запись, производится поиск вставляемой записи в таблице, в случае нахождения неудаленного бросается ошибка, иначе сравниваем с последним элементом в поиске и вставляем по лексиграфическому порядку в один из указателей, затем пересчитываются разницы высот для всех родительских вершин, и при необходимости производится балансировка дерева
	    - удаление - производится поиск удаляемой записи в массиве, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
	    - поиск - в качестве аргумента передается ключ, производится сравнение с корневым элементом, если меньше то идем по указателю на меньший элемент, если больше - на больший элемент. В случае равенства при условии неудаленности возвращается true и передается ссылка на полином через аргументы. В случае ненахождения возвращается false
	    - запись в файл - каждый неудаленный полином записывается в файл с новой строки;
	    - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в дерево;
	    - балансировка - https://habr.com/ru/post/150732/ (Балансировка узлов);
	  
    - Хеш таблица с открытым перемешиванием
      - вставка - в качестве аргумента передается запись, с помощью хэш-функции и исходного ключа вычисляется производный ключ, если найденное место свободно, то элемент вставляется в эту позицию, иначе происходит смещение позиции, новая позиция вычисляется по формуле (k + p) mod N, где - k - текущая позиция, p - смещение, N - размер массива, причем p и N должны быть взаимнопростыми. В случае если обнаружения равных элементов бросается ошибка
      - удаление - производится поиск удаляемой записи, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
      - поиск - в качестве аргумента передается ключ, проходим по всему массиву, сравниваем ключ, в случае нахождения неудаленного возвращается true и меняем текущую позицию, иначе возвращается false и текущую позицию устанавливаем на -1;
      - запись в файл - каждый неудаленный полином записывается в файл в каждую отдельную строку;
      - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в массив;
    - Хеш таблица со списками (метод цепочек)
      - вставка - в качестве аргумента передается запись, с помощью хэш-функции и исходного ключа вычисляется производный ключ, если найденное место свободно, то элемент вставляется в эту позицию, иначе формируем линейные списки (цепочки), в каждом из которых располагаются записи с одинаковым значением функции расстановки. В случае если обнаружения равных элементов бросается ошибка
      - удаление - производится поиск удаляемой записи, в случае нахождения неудаленного ему присваивается состояние "удален" иначе выводится ошибка;
      - поиск - в качестве аргумента передается ключ, проходим по всему массиву, сравниваем ключ, в случае нахождения неудаленного возвращается true и меняем текущую позицию, иначе возвращается false и текущую позицию устанавливаем на -1;
      - запись в файл - каждый неудаленный полином записывается в файл в каждую отдельную строку;
      - чтение из файла - каждая строчка конвертируется в полином и этот полином вставляется в массив;




<!-- LINKS -->

[git]:         https://git-scm.com/book/ru/v2
[gtest]:       https://github.com/google/googletest
